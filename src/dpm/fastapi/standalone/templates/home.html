{% extends "base.html" %}

{% block title %}DPM - Home{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <h1 class="text-4xl font-bold mb-8">Welcome to DPM</h1>

    <!-- Status Card with auto-refresh -->
    <div class="card bg-base-200 shadow-xl mb-6">
        <div class="card-body">
            <h2 class="card-title">System Status</h2>
            <div
                id="status-display"
                hx-get="{{ url_for('ui:status-partial') }}"
                hx-trigger="load, every 1s"
                hx-swap="innerHTML"
            >
                <!-- Status info will be loaded here -->
                <div class="flex justify-center p-8">
                    <span class="loading loading-spinner loading-lg"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Items -->
    {% if recent_items %}
    <div class="card bg-base-200 shadow-xl mb-6">
        <div class="card-body">
            <h2 class="card-title">Recent</h2>
            <div class="flex flex-col gap-2">
                {% for item in recent_items %}
                <a href="{{ item.url }}" class="btn btn-sm btn-outline justify-start">
                    <span class="badge {{ item.badge_class }} badge-xs mr-1">{{ item.label }}</span>
                    {{ item.name }}
                </a>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Navigation Cards -->
    <div class="card bg-base-200 shadow-xl">
        <div class="card-body">
            <h2 class="card-title">Navigation</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <a href="{{ url_for('pm:domains')}}" class="btn btn-outline btn-primary">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path>
                    </svg>
                    Domains
                </a>
            </div>
        </div>
    </div>

</div>
{% endblock %}
